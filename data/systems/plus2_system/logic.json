{
  "system": "plus2_system",

  "applicability": {
    "condition": "CO_sys < 20",
    "notes": "Plus2 system is applicable only when CO_sys is less than 20"
  },

  "track_selection": {
    "strategy": "ruleset",
    "snap_tolerance": 0.02,

    "ruleset": [
      {
        "if": "CO.rail == BOTTOM && 1C.side == RIGHT",
        "then": "B2T_L"
      },
      {
        "if": "CO.rail == BOTTOM && 1C.side == LEFT",
        "then": "B2T_R"
      },
      {
        "if": "CO.rail == TOP && 1C.side == RIGHT",
        "then": "T2B_R"
      },
      {
        "if": "CO.rail == TOP && 1C.side == LEFT",
        "then": "T2B_L"
      },

      {
        "if": "CO.rail == BOTTOM && CO.x > 3C.x",
        "then": "B2T_L"
      },
      {
        "if": "CO.rail == BOTTOM && CO.x < 3C.x",
        "then": "B2T_R"
      },
      {
        "if": "CO.rail == TOP && CO.x > 3C.x",
        "then": "T2B_R"
      },
      {
        "if": "CO.rail == TOP && CO.x < 3C.x",
        "then": "T2B_L"
      }
    ],

    "tie_breaker": {
      "condition": "|CO.x - 3C.x| <= 0.02",
      "priority": [
        "prefer_3C_side_rail",
        "prefer_existing_anchor"
      ]
    }
  },

  "direction_policy": {
    "RIGHT": {
      "spin": "1:30",
      "description": "Right-hand spin (우선회)"
    },
    "LEFT": {
      "spin": "10:30",
      "description": "Left-hand spin (좌선회)"
    }
  },

  "required_marks": ["CO", "3C"],
  "optional_marks": ["1C"],

  "hp_policy": {
    "co_required": true,
    "pattern": "long-short-long",
    "fixed_plus": 20,
    "description": "3C_sys = CO_sys + 1C_sys + 20"
  },

  "space_assumptions": {
    "rails": {
      "TOP": 42.25,
      "BOTTOM": -2.25,
      "LEFT": -2.25,
      "RIGHT": 82.25
    }
  },

  "notes": [
    "Plus2 system requires CO_sys < 20",
    "Spin direction is fixed by selected track",
    "1C_sys is derived from CO_sys and target SFG lines",
    "All numeric derivations are handled outside logic.json"
  ],

  "meta": {
    "version": "1.0",
    "role": "system_logic"
  }
}
